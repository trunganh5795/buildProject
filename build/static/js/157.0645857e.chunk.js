/*! For license information please see 157.0645857e.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunklaptop_store=self.webpackChunklaptop_store||[]).push([[157],{75053:function(e,t,n){var r=n(62944),a={getProvince:function(){return r.Z.get("/address/province")},getDistrict:function(e){return r.Z.get("/address/district",{params:{id:e}})},getWardStreetList:function(e){return r.Z.get("/address/ward",{params:{district:e}})},getDeliveryAddressList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="/address/delivery";return r.Z.get(n,{params:{userId:e,flag:t}})},postAddDeliveryAddress:function(e,t){return r.Z.post("/address/delivery",{userId:e,newAddress:t})},delDeliveryAddress:function(e,t){return r.Z.delete("/address/delivery",{params:{userId:e,item:t}})},putSetDefaultDeliveryAddress:function(e,t){return r.Z.put("/address/delivery",{addressId:t})}};t.Z=a},65783:function(e,t,n){n.d(t,{Z:function(){return N}});var r=n(33032),a=n(23430),i=n(84322),s=n.n(i),o=n(23695),c=n(3581),l=n(66106),u=n(30914),h=n(44137),d=n(37382),f=n(20662),m=n(87309),v=n(70188),p=n(58300),g=n(72791),x=n(82426),y=n(89484),w=n(62944),b={getVoucher:function(){var e=(0,r.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[null],t.forEach((function(e){n.find((function(t){return t===e.category}))||n.push(e.category)})),"admin/voucher/type",e.abrupt("return",w.Z.get("admin/voucher/type",{params:n}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C=b,j=n(80184);function Z(e){var t=e.carts,n=e.isCheckout,i=e.transportFee,w=e.onCheckout,b=e.isLoading,Z=e.selectedVoucher,N=(0,g.useState)(""),E=(0,a.Z)(N,2),k=E[0],M=E[1],R=(0,g.useState)(null),P=(0,a.Z)(R,2),A=P[0],S=P[1],z=(0,g.useMemo)((function(){return null!==A&&5===k.length?p.Z.getDiscountVoucher(t,k,A,o.ZP,Z):0}),[k]),I=t.reduce((function(e,t){return e+(t.price+t.price*t.discount/100)*t.amount}),0),O=t.reduce((function(e,t){return e+t.price*t.discount/100*t.amount}),0);(0,g.useEffect)((function(){var e=function(){var e=(0,r.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==A){e.next=5;break}return e.next=3,C.getVoucher(t);case 3:n=e.sent,S(n.data.rows);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e(),function(){}}),[]);var T=(0,g.useMemo)((function(){return(0,j.jsx)(c.Z,{onClick:function(e){M(e.key)},className:"voucher-menu",children:null===A||void 0===A?void 0:A.map((function(e){var t,n;return(0,j.jsx)(c.Z.Item,{children:(0,j.jsxs)(l.Z,{gutter:8,style:{width:"150px"},children:[(0,j.jsx)(u.Z,{span:12,children:(0,j.jsx)(h.Z,{preview:!1,src:y,width:"50px"})}),(0,j.jsxs)(u.Z,{span:12,children:[(0,j.jsx)("b",{children:e.code}),(0,j.jsx)("div",{children:(0,j.jsxs)("b",{style:{color:"red"},children:["- ",(null===(t=e.percentage[0])||void 0===t?void 0:t.percent)||(null===(n=e.amount[0])||void 0===n?void 0:n.amount)," ",e.percentage[0]?" %":" $"]})})]})]})},e.code)}))})}),[A]);return(0,j.jsxs)("div",{className:"Payment bg-white p-16",children:[(0,j.jsx)("h2",{className:"m-b-8",children:"Order total"}),(0,j.jsxs)("div",{className:"d-flex justify-content-between m-b-6",children:[(0,j.jsx)("span",{className:"font-size-16px",style:{color:"#aaa"},children:"Subtotal"}),(0,j.jsx)("b",{children:p.Z.formatProductPrice(I)})]}),(0,j.jsxs)("div",{className:"d-flex justify-content-between m-b-6",children:[(0,j.jsx)("span",{className:"font-size-16px",style:{color:"#aaa"},children:"Discount"}),(0,j.jsx)("b",{children:p.Z.formatProductPrice(O)})]}),(0,j.jsxs)("div",{className:"d-flex justify-content-between m-b-6",children:[(0,j.jsx)("span",{className:"font-size-16px",style:{color:"#aaa"},children:"Voucher"}),(0,j.jsx)("div",{className:"flex-grow-1",children:(0,j.jsx)(d.Z,{overlay:T,trigger:["click"],placement:"bottomLeft",selectable:!0,arrow:!0,children:(0,j.jsx)(f.Z,{value:k,placeholder:"",size:"default",className:"w-100px m-l-10",onChange:function(e){M(e.target.value)},allowClear:!0})})}),(0,j.jsxs)("b",{style:{color:"red"},children:[0!==z&&"- ".concat(z," $")," "]})]}),(0,j.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,j.jsx)("span",{className:"font-size-16px",style:{color:"#aaa"},children:"Total"}),(0,j.jsx)("b",{style:{color:"red",fontSize:20},children:p.Z.formatProductPrice(I-O-z+i)})]}),n?(0,j.jsx)(m.Z,{onClick:w,className:"m-t-16 d-block m-lr-auto w-100",type:"primary",size:"large",loading:b,style:{backgroundColor:"#3555c5",color:"#fff"},children:"CHECK OUT"}):(0,j.jsx)(x.rU,{to:v.Z.ROUTES.PAYMENT,children:(0,j.jsx)(m.Z,{className:"m-t-16 d-block m-lr-auto w-100",type:"primary",size:"large",style:{backgroundColor:"#3555c5",color:"#fff"},children:"Checkout"})})]})}Z.defaultProps={carts:[],isCheckout:!1,transportFee:0,isLoading:!1};var N=Z},27367:function(e,t,n){n.d(t,{Z:function(){return M}});var r=n(35531),a=n(33032),i=n(23430),s=n(84322),o=n.n(s),c=n(79286),l=n(23695),u=n(66106),h=n(30914),d=n(87309),f=n(37083),m=n(82862),v=n(75053),p=n(72791),g=n(25978),x=n(18489),y=n(83738),w=n(57273),b=n(77483),C=n(20662),j=n(80184),Z=["name","phone"],N=w.Z.Option;var E=function(e){var t=e.onCloseForm,n=(0,p.useState)(!0),r=(0,i.Z)(n,2),s=r[0],c=r[1],f=(0,p.useState)([]),E=(0,i.Z)(f,2),k=E[0],M=E[1],R=(0,p.useState)([]),P=(0,i.Z)(R,2),A=P[0],S=P[1],z=(0,p.useState)([]),I=(0,i.Z)(z,2),O=I[0],T=I[1],L=(0,p.useState)([]),D=(0,i.Z)(L,2),_=(D[0],D[1],(0,p.useRef)("")),F=(0,p.useRef)(null),H=(0,g.v9)((function(e){return e.user}));(0,p.useEffect)((function(){var e=!0;function t(){return(t=(0,a.Z)(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.Z.getProvince();case 3:(n=t.sent)&&e&&M(n.data),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){return e=!1}}),[]);var U=function(){var e=(0,a.Z)(o().mark((function e(){var t,n,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:0,e.prev=1,e.next=4,v.Z.getDistrict(t);case 4:(n=e.sent)&&S(n.data),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=(0,a.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.Z.getWardStreetList(t);case 3:(n=e.sent)&&T(n.data.wards),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=(0,a.Z)(o().mark((function e(n){var r,a,i,s,u,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n.name,a=n.phone,i=(0,y.Z)(n,Z),s={name:r,phone:a,address:(0,x.Z)({},i)},u=H._id,e.next=6,v.Z.postAddDeliveryAddress(u,s);case 6:(h=e.sent)&&200===h.status&&l.ZP.success("Th\xeam \u0111\u1ecba ch\u1ec9 th\xe0nh c\xf4ng",2),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),e.t0&&(e.t0.response?l.ZP.error(e.t0.response.data.message,2):l.ZP.error("Th\xeam \u0111\u1ecba ch\u1ec9 th\u1ea5t b\u1ea1i",2));case 13:c(!1),t(1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return(0,j.jsx)(m.Z,{visible:s,closable:!0,maskClosable:!1,onCancel:function(){c(!1),t()},centered:!0,width:768,footer:[(0,j.jsx)(d.Z,{danger:!0,onClick:function(){c(!1),t()},children:"Hu\u1ef7 b\u1ecf"},"back"),(0,j.jsx)(d.Z,{type:"primary",htmlType:"submit",form:"form",children:"Th\xeam \u0111\u1ecba ch\u1ec9"},"submit")],children:(0,j.jsx)(b.Z,{onFinish:Q,ref:F,name:"form",children:(0,j.jsxs)(u.Z,{gutter:[32,0],children:[(0,j.jsxs)(h.Z,{span:12,children:[(0,j.jsx)("h3",{children:"Th\xf4ng tin ng\u01b0\u1eddi nh\u1eadn h\xe0ng"}),(0,j.jsx)(b.Z.Item,{name:"name",className:"m-tb-16",rules:[{required:!0,message:"* B\u1eaft bu\u1ed9c nh\u1eadp"},{max:40,message:"T\u1ed1i \u0111a 40 k\xfd t\u1ef1"}],children:(0,j.jsx)(C.Z,{size:"middle",placeholder:"H\u1ecd t\xean *",maxLength:60})}),(0,j.jsx)(b.Z.Item,{name:"phone",rules:[{required:!0,message:"* B\u1eaft bu\u1ed9c nh\u1eadp"},{validator:function(e,t){return/0\d{0,9}/gi.test(t)?Promise.resolve():Promise.reject("S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng h\u1ee3p l\u1ec7")}},{max:11,message:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i bao g\u1ed3m 10 \u0111\u1ebfn 11 s\u1ed1"},{min:10,message:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i bao g\u1ed3m 10 \u0111\u1ebfn 11 s\u1ed1"}],children:(0,j.jsx)(C.Z,{size:"middle",placeholder:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i *",maxLength:12})})]}),(0,j.jsxs)(h.Z,{span:12,children:[(0,j.jsx)("h3",{children:"\u0110\u1ecba ch\u1ec9 giao h\xe0ng"}),(0,j.jsx)(b.Z.Item,{name:"province",rules:[{required:!0,message:"* b\u1eaft bu\u1ed9c nh\u1eadp"}],children:(0,j.jsx)(w.Z,{filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},showSearch:!0,onChange:function(e){U(e),_.current=e,F.current.resetFields(["district","ward","street"])},placeholder:"T\u1ec9nh/th\xe0nh",className:"m-tb-16",size:"middle",children:k.map((function(e,t){return(0,j.jsx)(N,{value:e.id,children:e.name},t)}))})}),(0,j.jsx)(b.Z.Item,{name:"district",rules:[{required:!0,message:"* b\u1eaft bu\u1ed9c nh\u1eadp"}],children:(0,j.jsx)(w.Z,{filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},showSearch:!0,onChange:function(e){return B(e)},placeholder:"Huy\u1ec7n/Qu\u1eadn",size:"middle",children:A.map((function(e,t){return(0,j.jsx)(N,{value:e.id,children:e.name},t)}))})}),(0,j.jsx)(b.Z.Item,{name:"ward",rules:[{required:!0,message:"* b\u1eaft bu\u1ed9c nh\u1eadp"}],children:(0,j.jsx)(w.Z,{filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},className:"m-tb-16",showSearch:!0,placeholder:"Ph\u01b0\u1eddng/X\xe3",size:"middle",children:O.map((function(e,t){return(0,j.jsx)(N,{value:e.id,children:e.prefix+" "+e.name},t)}))})}),(0,j.jsx)(b.Z.Item,{name:"details",rules:[{required:!0,message:"* b\u1eaft bu\u1ed9c nh\u1eadp"}],children:(0,j.jsx)(C.Z,{className:"m-t-16",maxLength:100,placeholder:"Khu ph\u1ed1, T\xean \u0111\u01b0\u1eddng, S\u1ed1 nh\xe0 c\u1ee5 th\u1ec3",size:"middle"})})]})]})})})};function k(e){var t=e.isCheckout,n=e.onChecked,s=e.showAll,x=(0,p.useState)(!1),y=(0,i.Z)(x,2),w=y[0],b=y[1],C=(0,p.useState)(!1),Z=(0,i.Z)(C,2),N=Z[0],k=Z[1],M=(0,p.useState)([]),R=(0,i.Z)(M,2),P=R[0],A=R[1],S=(0,p.useState)(-1),z=(0,i.Z)(S,2),I=z[0],O=z[1],T=(0,g.v9)((function(e){return e.user})),L=(0,p.useState)(!1),D=(0,i.Z)(L,2),_=D[0],F=D[1],H=(0,p.useState)(!0),U=(0,i.Z)(H,2),B=U[0],Q=U[1],V=function(){var e=(0,a.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.Z.delDeliveryAddress(T.id,t);case 3:e.sent&&(l.ZP.success("Xo\xe1 \u0111\u1ecba ch\u1ec9 th\xe0nh c\xf4ng"),F(!_)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l.ZP.error("Xo\xe1 \u0111\u1ecba ch\u1ec9 giao, nh\u1eadn th\u1ea5t b\u1ea1i.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=(0,a.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.Z.putSetDefaultDeliveryAddress(T.id,t);case 3:e.sent&&(l.ZP.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng"),0,P.forEach((function(e,n){e.id===t?(e.defaultAddress=!0,n):e.defaultAddress=!1})),P.sort((function(e,t){return-(Number(e.defaultAddress)-Number(t.defaultAddress))})),A((0,r.Z)(P))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l.ZP.error("C\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=[];return r?a=e:a.push(e[0]),a&&a.map((function(e,a){return(0,j.jsx)("div",{className:"bg-white bor-rad-8 box-sha-home p-tb-8 p-lr-16 m-b-16 ".concat(I===a&&t?"item-active":""),onClick:function(){t&&(O(a),n(e.id))},children:(0,j.jsxs)(u.Z,{children:[(0,j.jsxs)(h.Z,{span:18,children:[(0,j.jsxs)("p",{className:"m-b-6",children:[(0,j.jsx)("b",{children:"Ng\u01b0\u1eddi nh\u1eadn: "})," ",e.reciver]}),(0,j.jsxs)("p",{className:"m-b-6",children:[(0,j.jsx)("b",{children:"\u0110\u1ecba ch\u1ec9:"})," ",e.ward.district.province.name," , ",e.ward.district.prefix+" "+e.ward.district.name," , ",e.ward.prefix+" "+e.ward.name]}),(0,j.jsxs)("p",{className:"m-b-6",children:[(0,j.jsx)("b",{children:"S\u1ed1 nh\xe0:"})," ",e.details]}),(0,j.jsxs)("p",{className:"m-b-6",children:[(0,j.jsx)("b",{children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:"})," ",e.phone]})]}),(0,j.jsx)(h.Z,{span:6,children:(0,j.jsxs)("div",{className:"d-flex m-b-4 justify-content-end",children:[(0,j.jsxs)("h3",{children:[(0,j.jsx)("b",{children:e.name}),e.defaultAddress&&(0,j.jsx)("span",{className:"font-size-12px p-tb-4 p-lr-8 m-l-8 bor-rad-4",style:{border:"solid 1px #3a5dd9",color:"#3a5dd9"},children:"M\u1eb7c \u0111\u1ecbnh"})]}),(0,j.jsx)("div",{children:!r&&(0,j.jsx)(d.Z,{type:"link",onClick:function(){k((function(e){return!e}))},children:"Thay \u0111\u1ed5i"})}),!e.defaultAddress&&(0,j.jsxs)("div",{children:[(0,j.jsx)(d.Z,{type:"primary",onClick:function(){return Y(e.id)},children:"\u0110\u1eb7t m\u1eb7c \u0111\u1ecbnh"}),(0,j.jsx)("br",{}),(0,j.jsx)(d.Z,{className:"w-100 m-t-5",danger:!0,type:"primary",onClick:function(){return V(e.id)},children:"Xo\xe1"})]})]})})]})},a)}))}return(0,p.useEffect)((function(){var e=!0;function t(){return(t=(0,a.Z)(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Q(!0),t.next=4,v.Z.getDeliveryAddressList(T.id);case 4:n=t.sent,e&&n&&(A(n.data.list),Q(!1)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e&&(A([]),Q(!1));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}return T.id&&function(){t.apply(this,arguments)}(),function(){return e=!1}}),[T]),(0,j.jsx)(j.Fragment,{children:B?(0,j.jsx)("div",{className:"t-center m-tb-48",children:(0,j.jsx)(f.Z,{tip:"\u0110ang t\u1ea3i danh s\xe1ch \u0111\u1ecba ch\u1ec9 giao h\xe0ng ...",size:"large"})}):(0,j.jsxs)("div",{className:"User-Address-List",children:[P.length<5&&(0,j.jsxs)(d.Z,{type:"dashed",size:"large",className:"w-100",onClick:function(){return b(!0)},style:{height:54},children:[(0,j.jsx)(c.Z,{}),"Th\xeam \u0111\u1ecba ch\u1ec9"]}),P.length>0?(0,j.jsx)("div",{className:"m-t-16",children:X(P,s)}):(0,j.jsx)("h3",{className:"m-t-16 t-center",style:{color:"#888"},children:"Hi\u1ec7n t\u1ea1i b\u1ea1n ch\u01b0a c\xf3 \u0111\u1ecba ch\u1ec9 giao, nh\u1eadn h\xe0ng n\xe0o"}),w&&(0,j.jsx)(E,{onCloseForm:function(e){e&&F(!_),b(!1)}}),(0,j.jsx)(m.Z,{visible:N,onCancel:function(){k(!1)},onOk:function(){var e=[P[I],P[0]];P[0]=e[0],P[I]=e[1],A((0,r.Z)(P)),k(!1)},centered:!0,width:768,children:(0,j.jsx)("div",{className:"m-t-20",children:X(P,!0)})})]})})}k.defaultProps={isCheckout:!1,onChecked:function(){}};var M=k},28157:function(e,t,n){n.r(t),n.d(t,{default:function(){return J}});var r=n(23430),a=n(33032),i=n(84322),s=n.n(i),o=n(88428),c=n(72791),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm47.7-395.2l-25.4-5.9V348.6c38 5.2 61.5 29 65.5 58.2.5 4 3.9 6.9 7.9 6.9h44.9c4.7 0 8.4-4.1 8-8.8-6.1-62.3-57.4-102.3-125.9-109.2V263c0-4.4-3.6-8-8-8h-28.1c-4.4 0-8 3.6-8 8v33c-70.8 6.9-126.2 46-126.2 119 0 67.6 49.8 100.2 102.1 112.7l24.7 6.3v142.7c-44.2-5.9-69-29.5-74.1-61.3-.6-3.8-4-6.6-7.9-6.6H363c-4.7 0-8.4 4-8 8.7 4.5 55 46.2 105.6 135.2 112.1V761c0 4.4 3.6 8 8 8h28.4c4.4 0 8-3.6 8-8.1l-.2-31.7c78.3-6.9 134.3-48.8 134.3-124-.1-69.4-44.2-100.4-109-116.4zm-68.6-16.2c-5.6-1.6-10.3-3.1-15-5-33.8-12.2-49.5-31.9-49.5-57.3 0-36.3 27.5-57 64.5-61.7v124zM534.3 677V543.3c3.1.9 5.9 1.6 8.8 2.2 47.3 14.4 63.2 34.4 63.2 65.1 0 39.1-29.4 62.6-72 66.4z"}}]},name:"dollar-circle",theme:"outlined"},u=n(62653),h=function(e,t){return c.createElement(u.Z,(0,o.Z)((0,o.Z)({},e),{},{ref:t,icon:l}))};h.displayName="DollarCircleOutlined";var d,f,m=c.forwardRef(h),v=n(11890),p=n(13830),g=n(44137),x=n(23695),y=n(77063),w=n(87309),b=n(66106),C=n(30914),j=n(20662),Z=(n(75053),n(40707)),N=n(65783),E=n(70188),k=n(27367),M=n(58300),R=n(25978),P=n(82426),A=n(49723),S=n(6400),z=n(27853),I=n(84531),O=n(89472),T=Object.defineProperty,L=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,F=function(e,t,n){return t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},H=function(e,t){for(var n in t||(t={}))D.call(t,n)&&F(e,n,t[n]);if(L){var r,a=(0,O.Z)(L(t));try{for(a.s();!(r=a.n()).done;){n=r.value;_.call(t,n)&&F(e,n,t[n])}}catch(i){a.e(i)}finally{a.f()}}return e},U=function(e,t){var n={};for(var r in e)D.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&L){var a,i=(0,O.Z)(L(e));try{for(i.s();!(a=i.n()).done;){r=a.value;t.indexOf(r)<0&&_.call(e,r)&&(n[r]=e[r])}}catch(s){i.e(s)}finally{i.f()}}return n};!function(e){var t=function(){function t(e,n,r,a){if((0,z.Z)(this,t),this.version=e,this.errorCorrectionLevel=n,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version value out of range");if(a<-1||a>7)throw new RangeError("Mask value out of range");this.size=4*e+17;for(var s=[],o=0;o<this.size;o++)s.push(!1);for(var c=0;c<this.size;c++)this.modules.push(s.slice()),this.isFunction.push(s.slice());this.drawFunctionPatterns();var l=this.addEccAndInterleave(r);if(this.drawCodewords(l),-1==a)for(var u=1e9,h=0;h<8;h++){this.applyMask(h),this.drawFormatBits(h);var d=this.getPenaltyScore();d<u&&(a=h,u=d),this.applyMask(h)}i(0<=a&&a<=7),this.mask=a,this.applyMask(a),this.drawFormatBits(a),this.isFunction=[]}return(0,I.Z)(t,[{key:"getModule",value:function(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}},{key:"getModules",value:function(){return this.modules}},{key:"drawFunctionPatterns",value:function(){for(var e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var t=this.getAlignmentPatternPositions(),n=t.length,r=0;r<n;r++)for(var a=0;a<n;a++)0==r&&0==a||0==r&&a==n-1||r==n-1&&0==a||this.drawAlignmentPattern(t[r],t[a]);this.drawFormatBits(0),this.drawVersion()}},{key:"drawFormatBits",value:function(e){for(var t=this.errorCorrectionLevel.formatBits<<3|e,n=t,r=0;r<10;r++)n=n<<1^1335*(n>>>9);var s=21522^(t<<10|n);i(s>>>15==0);for(var o=0;o<=5;o++)this.setFunctionModule(8,o,a(s,o));this.setFunctionModule(8,7,a(s,6)),this.setFunctionModule(8,8,a(s,7)),this.setFunctionModule(7,8,a(s,8));for(var c=9;c<15;c++)this.setFunctionModule(14-c,8,a(s,c));for(var l=0;l<8;l++)this.setFunctionModule(this.size-1-l,8,a(s,l));for(var u=8;u<15;u++)this.setFunctionModule(8,this.size-15+u,a(s,u));this.setFunctionModule(8,this.size-8,!0)}},{key:"drawVersion",value:function(){if(!(this.version<7)){for(var e=this.version,t=0;t<12;t++)e=e<<1^7973*(e>>>11);var n=this.version<<12|e;i(n>>>18==0);for(var r=0;r<18;r++){var s=a(n,r),o=this.size-11+r%3,c=Math.floor(r/3);this.setFunctionModule(o,c,s),this.setFunctionModule(c,o,s)}}}},{key:"drawFinderPattern",value:function(e,t){for(var n=-4;n<=4;n++)for(var r=-4;r<=4;r++){var a=Math.max(Math.abs(r),Math.abs(n)),i=e+r,s=t+n;0<=i&&i<this.size&&0<=s&&s<this.size&&this.setFunctionModule(i,s,2!=a&&4!=a)}}},{key:"drawAlignmentPattern",value:function(e,t){for(var n=-2;n<=2;n++)for(var r=-2;r<=2;r++)this.setFunctionModule(e+r,t+n,1!=Math.max(Math.abs(r),Math.abs(n)))}},{key:"setFunctionModule",value:function(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0}},{key:"addEccAndInterleave",value:function(e){var n=this.version,r=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(n,r))throw new RangeError("Invalid argument");for(var a=t.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][n],s=t.ECC_CODEWORDS_PER_BLOCK[r.ordinal][n],o=Math.floor(t.getNumRawDataModules(n)/8),c=a-o%a,l=Math.floor(o/a),u=[],h=t.reedSolomonComputeDivisor(s),d=0,f=0;d<a;d++){var m=e.slice(f,f+l-s+(d<c?0:1));f+=m.length;var v=t.reedSolomonComputeRemainder(m,h);d<c&&m.push(0),u.push(m.concat(v))}for(var p=[],g=function(e){u.forEach((function(t,n){(e!=l-s||n>=c)&&p.push(t[e])}))},x=0;x<u[0].length;x++)g(x);return i(p.length==o),p}},{key:"drawCodewords",value:function(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var n=0,r=this.size-1;r>=1;r-=2){6==r&&(r=5);for(var s=0;s<this.size;s++)for(var o=0;o<2;o++){var c=r-o,l=0==(r+1&2)?this.size-1-s:s;!this.isFunction[l][c]&&n<8*e.length&&(this.modules[l][c]=a(e[n>>>3],7-(7&n)),n++)}}i(n==8*e.length)}},{key:"applyMask",value:function(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(var t=0;t<this.size;t++)for(var n=0;n<this.size;n++){var r=void 0;switch(e){case 0:r=(n+t)%2==0;break;case 1:r=t%2==0;break;case 2:r=n%3==0;break;case 3:r=(n+t)%3==0;break;case 4:r=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:r=n*t%2+n*t%3==0;break;case 6:r=(n*t%2+n*t%3)%2==0;break;case 7:r=((n+t)%2+n*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][n]&&r&&(this.modules[t][n]=!this.modules[t][n])}}},{key:"getPenaltyScore",value:function(){for(var e=0,n=0;n<this.size;n++){for(var r=!1,a=0,s=[0,0,0,0,0,0,0],o=0;o<this.size;o++)this.modules[n][o]==r?5==++a?e+=t.PENALTY_N1:a>5&&e++:(this.finderPenaltyAddHistory(a,s),r||(e+=this.finderPenaltyCountPatterns(s)*t.PENALTY_N3),r=this.modules[n][o],a=1);e+=this.finderPenaltyTerminateAndCount(r,a,s)*t.PENALTY_N3}for(var c=0;c<this.size;c++){for(var l=!1,u=0,h=[0,0,0,0,0,0,0],d=0;d<this.size;d++)this.modules[d][c]==l?5==++u?e+=t.PENALTY_N1:u>5&&e++:(this.finderPenaltyAddHistory(u,h),l||(e+=this.finderPenaltyCountPatterns(h)*t.PENALTY_N3),l=this.modules[d][c],u=1);e+=this.finderPenaltyTerminateAndCount(l,u,h)*t.PENALTY_N3}for(var f=0;f<this.size-1;f++)for(var m=0;m<this.size-1;m++){var v=this.modules[f][m];v==this.modules[f][m+1]&&v==this.modules[f+1][m]&&v==this.modules[f+1][m+1]&&(e+=t.PENALTY_N2)}var p,g=0,x=(0,O.Z)(this.modules);try{for(x.s();!(p=x.n()).done;){g=p.value.reduce((function(e,t){return e+(t?1:0)}),g)}}catch(b){x.e(b)}finally{x.f()}var y=this.size*this.size,w=Math.ceil(Math.abs(20*g-10*y)/y)-1;return i(0<=w&&w<=9),i(0<=(e+=w*t.PENALTY_N4)&&e<=2568888),e}},{key:"getAlignmentPatternPositions",value:function(){if(1==this.version)return[];for(var e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2)),n=[6],r=this.size-7;n.length<e;r-=t)n.splice(1,0,r);return n}},{key:"finderPenaltyCountPatterns",value:function(e){var t=e[1];i(t<=3*this.size);var n=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(n&&e[0]>=4*t&&e[6]>=t?1:0)+(n&&e[6]>=4*t&&e[0]>=t?1:0)}},{key:"finderPenaltyTerminateAndCount",value:function(e,t,n){return e&&(this.finderPenaltyAddHistory(t,n),t=0),t+=this.size,this.finderPenaltyAddHistory(t,n),this.finderPenaltyCountPatterns(n)}},{key:"finderPenaltyAddHistory",value:function(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}}],[{key:"encodeText",value:function(n,r){var a=e.QrSegment.makeSegments(n);return t.encodeSegments(a,r)}},{key:"encodeBinary",value:function(n,r){var a=e.QrSegment.makeBytes(n);return t.encodeSegments([a],r)}},{key:"encodeSegments",value:function(e,n){var a,s,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!(t.MIN_VERSION<=c&&c<=l&&l<=t.MAX_VERSION)||u<-1||u>7)throw new RangeError("Invalid value");for(a=c;;a++){var d=8*t.getNumDataCodewords(a,n),f=o.getTotalBits(e,a);if(f<=d){s=f;break}if(a>=l)throw new RangeError("Data too long")}for(var m=0,v=[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH];m<v.length;m++){var p=v[m];h&&s<=8*t.getNumDataCodewords(a,p)&&(n=p)}var g,x=[],y=(0,O.Z)(e);try{for(y.s();!(g=y.n()).done;){var w=g.value;r(w.mode.modeBits,4,x),r(w.numChars,w.mode.numCharCountBits(a),x);var b,C=(0,O.Z)(w.getData());try{for(C.s();!(b=C.n()).done;){var j=b.value;x.push(j)}}catch(k){C.e(k)}finally{C.f()}}}catch(k){y.e(k)}finally{y.f()}i(x.length==s);var Z=8*t.getNumDataCodewords(a,n);i(x.length<=Z),r(0,Math.min(4,Z-x.length),x),r(0,(8-x.length%8)%8,x),i(x.length%8==0);for(var N=236;x.length<Z;N^=253)r(N,8,x);for(var E=[];8*E.length<x.length;)E.push(0);return x.forEach((function(e,t){return E[t>>>3]|=e<<7-(7&t)})),new t(a,n,E,u)}},{key:"getNumRawDataModules",value:function(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version number out of range");var n=(16*e+128)*e+64;if(e>=2){var r=Math.floor(e/7)+2;n-=(25*r-10)*r-55,e>=7&&(n-=36)}return i(208<=n&&n<=29648),n}},{key:"getNumDataCodewords",value:function(e,n){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[n.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][e]}},{key:"reedSolomonComputeDivisor",value:function(e){if(e<1||e>255)throw new RangeError("Degree out of range");for(var n=[],r=0;r<e-1;r++)n.push(0);n.push(1);for(var a=1,i=0;i<e;i++){for(var s=0;s<n.length;s++)n[s]=t.reedSolomonMultiply(n[s],a),s+1<n.length&&(n[s]^=n[s+1]);a=t.reedSolomonMultiply(a,2)}return n}},{key:"reedSolomonComputeRemainder",value:function(e,n){var r,a=n.map((function(e){return 0})),i=(0,O.Z)(e);try{var s=function(){var e=r.value^a.shift();a.push(0),n.forEach((function(n,r){return a[r]^=t.reedSolomonMultiply(n,e)}))};for(i.s();!(r=i.n()).done;)s()}catch(o){i.e(o)}finally{i.f()}return a}},{key:"reedSolomonMultiply",value:function(e,t){if(e>>>8!=0||t>>>8!=0)throw new RangeError("Byte out of range");for(var n=0,r=7;r>=0;r--)n=n<<1^285*(n>>>7),n^=(t>>>r&1)*e;return i(n>>>8==0),n}}]),t}(),n=t;function r(e,t,n){if(t<0||t>31||e>>>t!=0)throw new RangeError("Value out of range");for(var r=t-1;r>=0;r--)n.push(e>>>r&1)}function a(e,t){return 0!=(e>>>t&1)}function i(e){if(!e)throw new Error("Assertion error")}n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;var s=function(){function e(t,n,r){if((0,z.Z)(this,e),this.mode=t,this.numChars=n,this.bitData=r,n<0)throw new RangeError("Invalid argument");this.bitData=r.slice()}return(0,I.Z)(e,[{key:"getData",value:function(){return this.bitData.slice()}}],[{key:"makeBytes",value:function(t){var n,a=[],i=(0,O.Z)(t);try{for(i.s();!(n=i.n()).done;){r(n.value,8,a)}}catch(s){i.e(s)}finally{i.f()}return new e(e.Mode.BYTE,t.length,a)}},{key:"makeNumeric",value:function(t){if(!e.isNumeric(t))throw new RangeError("String contains non-numeric characters");for(var n=[],a=0;a<t.length;){var i=Math.min(t.length-a,3);r(parseInt(t.substr(a,i),10),3*i+1,n),a+=i}return new e(e.Mode.NUMERIC,t.length,n)}},{key:"makeAlphanumeric",value:function(t){if(!e.isAlphanumeric(t))throw new RangeError("String contains unencodable characters in alphanumeric mode");var n,a=[];for(n=0;n+2<=t.length;n+=2){var i=45*e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n));r(i+=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n+1)),11,a)}return n<t.length&&r(e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n)),6,a),new e(e.Mode.ALPHANUMERIC,t.length,a)}},{key:"makeSegments",value:function(t){return""==t?[]:e.isNumeric(t)?[e.makeNumeric(t)]:e.isAlphanumeric(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]}},{key:"makeEci",value:function(t){var n=[];if(t<0)throw new RangeError("ECI assignment value out of range");if(t<128)r(t,8,n);else if(t<16384)r(2,2,n),r(t,14,n);else{if(!(t<1e6))throw new RangeError("ECI assignment value out of range");r(6,3,n),r(t,21,n)}return new e(e.Mode.ECI,0,n)}},{key:"isNumeric",value:function(t){return e.NUMERIC_REGEX.test(t)}},{key:"isAlphanumeric",value:function(t){return e.ALPHANUMERIC_REGEX.test(t)}},{key:"getTotalBits",value:function(e,t){var n,r=0,a=(0,O.Z)(e);try{for(a.s();!(n=a.n()).done;){var i=n.value,s=i.mode.numCharCountBits(t);if(i.numChars>=1<<s)return 1/0;r+=4+s+i.bitData.length}}catch(o){a.e(o)}finally{a.f()}return r}},{key:"toUtf8ByteArray",value:function(e){e=encodeURI(e);for(var t=[],n=0;n<e.length;n++)"%"!=e.charAt(n)?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substr(n+1,2),16)),n+=2);return t}}]),e}(),o=s;o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=o}(d||(d={})),function(e){var t=(0,I.Z)((function e(t,n){(0,z.Z)(this,e),this.ordinal=t,this.formatBits=n})),n=t;n.LOW=new t(0,1),n.MEDIUM=new t(1,0),n.QUARTILE=new t(2,3),n.HIGH=new t(3,2),e.Ecc=n}((f=d||(d={})).QrCode||(f.QrCode={})),function(e){!function(e){var t=function(){function e(t,n){(0,z.Z)(this,e),this.modeBits=t,this.numBitsCharCount=n}return(0,I.Z)(e,[{key:"numCharCountBits",value:function(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}}]),e}(),n=t;n.NUMERIC=new t(1,[10,12,14]),n.ALPHANUMERIC=new t(2,[9,11,13]),n.BYTE=new t(4,[8,16,16]),n.KANJI=new t(8,[8,10,12]),n.ECI=new t(7,[0,0,0]),e.Mode=n}(e.QrSegment||(e.QrSegment={}))}(d||(d={}));var B=d,Q={L:B.QrCode.Ecc.LOW,M:B.QrCode.Ecc.MEDIUM,Q:B.QrCode.Ecc.QUARTILE,H:B.QrCode.Ecc.HIGH},V={size:128,level:"L",bgColor:"#FFFFFF",fgColor:"#000000",includeMargin:!1};function Y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];return e.forEach((function(e,r){var a=null;e.forEach((function(i,s){if(!i&&null!==a)return n.push("M".concat(a+t," ").concat(r+t,"h").concat(s-a,"v1H").concat(a+t,"z")),void(a=null);if(s!==e.length-1)i&&null===a&&(a=s);else{if(!i)return;null===a?n.push("M".concat(s+t,",").concat(r+t," h1v1H").concat(s+t,"z")):n.push("M".concat(a+t,",").concat(r+t," h").concat(s+1-a,"v1H").concat(a+t,"z"))}}))})),n.join("")}function X(e,t){return e.slice().map((function(e,n){return n<t.y||n>=t.y+t.h?e:e.map((function(e,n){return(n<t.x||n>=t.x+t.w)&&e}))}))}function K(e,t){var n=e.imageSettings,r=e.size,a=e.includeMargin;if(null==n)return null;var i=a?4:0,s=t.length+2*i,o=Math.floor(.1*r),c=s/r,l=(n.width||o)*c,u=(n.height||o)*c,h=null==n.x?t.length/2-l/2:n.x*c,d=null==n.y?t.length/2-u/2:n.y*c,f=null;if(n.excavate){var m=Math.floor(h),v=Math.floor(d);f={x:m,y:v,w:Math.ceil(l+h-m),h:Math.ceil(u+d-v)}}return{x:h,y:d,h:u,w:l,excavation:f}}var W=function(){try{(new Path2D).addPath(new Path2D)}catch(e){return!1}return!0}();function G(e){var t=(0,c.useRef)(null),n=(0,c.useRef)(null);function r(){var r=e.value,a=e.size,i=e.level,s=e.bgColor,o=e.fgColor,c=e.includeMargin;if(null!=t.current){var l=t.current,u=l.getContext("2d");if(!u)return;var h=B.QrCode.encodeText(r,Q[i]).getModules(),d=c?4:0,f=h.length+2*d,m=K(e,h),v=n.current,p=null!=m&&null!==v&&v.complete&&0!==v.naturalHeight&&0!==v.naturalWidth;p&&null!=m.excavation&&(h=X(h,m.excavation));var g=window.devicePixelRatio||1;l.height=l.width=a*g;var x=a/f*g;u.scale(x,x),u.fillStyle=s,u.fillRect(0,0,f,f),u.fillStyle=o,W?u.fill(new Path2D(Y(h,d))):h.forEach((function(e,t){e.forEach((function(e,n){e&&u.fillRect(n+d,t+d,1,1)}))})),p&&u.drawImage(v,m.x+d,m.y+d,m.w,m.h)}}(0,c.useEffect)((function(){r()}));var a=e,i=(a.value,a.size),s=(a.level,a.bgColor,a.fgColor,a.style),o=(a.includeMargin,a.imageSettings),l=U(a,["value","size","level","bgColor","fgColor","style","includeMargin","imageSettings"]),u=H({height:i,width:i},s),h=null,d=null==o?void 0:o.src;return null!=d&&(h=c.createElement("img",{src:d,key:d,style:{display:"none"},onLoad:function(){r()},ref:n})),c.createElement(c.Fragment,null,c.createElement("canvas",H({style:u,height:i,width:i,ref:t},l)),h)}function q(e){var t=e,n=t.value,r=t.size,a=t.level,i=t.bgColor,s=t.fgColor,o=t.includeMargin,l=t.imageSettings,u=U(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]),h=B.QrCode.encodeText(n,Q[a]).getModules(),d=o?4:0,f=h.length+2*d,m=K(e,h),v=null;null!=l&&null!=m&&(null!=m.excavation&&(h=X(h,m.excavation)),v=c.createElement("image",{xlinkHref:l.src,height:m.h,width:m.w,x:m.x+d,y:m.y+d,preserveAspectRatio:"none"}));var p=Y(h,d);return c.createElement("svg",H({shapeRendering:"crispEdges",height:r,width:r,viewBox:"0 0 ".concat(f," ").concat(f)},u),c.createElement("path",{fill:i,d:"M0,0 h".concat(f,"v").concat(f,"H0z")}),c.createElement("path",{fill:s,d:p}),v)}G.defaultProps=V,q.defaultProps=V;H({renderAs:"canvas"},V);var $=n(80184);var J=function(){var e=(0,R.I0)(),t=((0,R.v9)((function(e){return e.authenticate.isAuth})),(0,c.useRef)("")),n=(0,c.useRef)(-1),i=(0,c.useRef)(1),o=(0,c.useRef)(null),l=(0,c.useState)(0),u=(0,r.Z)(l,2),h=u[0],d=(u[1],(0,R.v9)((function(e){return e.carts}))),f=(0,c.useState)(!1),z=(0,r.Z)(f,2),I=z[0],O=z[1],T=(0,c.useState)(!1),L=(0,r.Z)(T,2),D=L[0],_=L[1],F=(0,c.useState)(!1),H=(0,r.Z)(F,2),U=H[0],B=H[1],Q=(0,c.useState)(""),V=(0,r.Z)(Q,2),Y=V[0],X=V[1],K=d.reduce((function(e,t){return e+(t.price+t.price*t.discount/100)*t.amount}),0)>=1e6?0:E.Z.TRANSPORT_METHOD_OPTIONS.find((function(e){return e.value===h})).price,W=function(){var r=(0,a.Z)(s().mark((function r(){var a,c,l,u,f;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,O(!0),-1!==n.current){r.next=6;break}return x.ZP.warn("Vui l\xf2ng ch\u1ecdn \u0111\u1ecba ch\u1ec9 giao h\xe0ng"),O(!1),r.abrupt("return");case 6:return a=n.current,c=h,l=new Date,u=d.map((function(e,t){return{quantity:e.amount,bookId:e.bookId}})),r.next=12,Z.Z.postCreateOrder({deliveryAdd:a,paymentMethod:i.current,transportMethod:c,transportFee:K,orderDate:l,productList:u,note:t.current,voucherId:o.current});case 12:(f=r.sent)&&200===f.status&&(1===i.current?setTimeout((function(){x.ZP.success("\u0110\u1eb7t h\xe0ng th\xe0nh c\xf4ng",2),O(!1),_(!0),e(S.Z.resetCart())}),1e3):2===i.current?setTimeout((function(){O(!1),X(f.data.direct),B(!0)}),1e3):3===i.current&&window.location.replace(f.data.direct)),r.next=20;break;case 16:r.prev=16,r.t0=r.catch(0),x.ZP.error("\u0110\u1eb7t h\xe0ng th\u1ea5t b\u1ea1i, th\u1eed l\u1ea1i",3),O(!1);case 20:case"end":return r.stop()}}),r,null,[[0,16]])})));return function(){return r.apply(this,arguments)}}();return(0,$.jsxs)($.Fragment,{children:[d.length<=0&&!D&&!U&&(0,$.jsx)(A.Redirect,{to:E.Z.ROUTES.CART}),(0,$.jsx)("div",{className:"m-tb-32 container",children:D?(0,$.jsx)(y.ZP,{status:"success",title:"\u0110\u01a1n h\xe0ng c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u1eb7t th\xe0nh c\xf4ng.",subTitle:"Xem chi ti\u1ebft \u0111\u01a1n h\xe0ng v\u1eeba r\u1ed3i",extra:[(0,$.jsx)(w.Z,{type:"default",children:(0,$.jsx)(P.rU,{to:E.Z.ROUTES.ACCOUNT+"/orders",children:"Xem chi ti\u1ebft \u0111\u01a1n h\xe0ng"})},"0"),(0,$.jsx)(w.Z,{type:"primary",children:(0,$.jsx)(P.rU,{to:"/",children:"Ti\u1ebfp t\u1ee5c mua s\u1eafm"})},"1")]}):U?(0,$.jsxs)("div",{className:"t-center",children:[(0,$.jsx)("h2",{children:"Qu\xe9t m\xe3 QR \u0111\u1ec3 thanh to\xe1n"}),(0,$.jsx)(q,{value:Y,level:"L",includeMargin:!0,size:200}),(0,$.jsx)("div",{children:(0,$.jsx)(w.Z,{type:"primary",children:(0,$.jsx)(P.rU,{to:"/account/orders",children:"\u0110i t\u1edbi gi\u1ecf h\xe0ng"})},"1")})]}):(0,$.jsxs)(b.Z,{gutter:[16,16],children:[(0,$.jsxs)(C.Z,{span:24,className:"d-flex page-position",children:[(0,$.jsx)(P.rU,{to:"/",children:(0,$.jsx)(v.Z,{className:"p-12 icon-home font-size-16px bg-white",style:{borderRadius:50}})}),(0,$.jsx)("span",{className:"p-lr-8 font-weight-500",style:{lineHeight:"40px"},children:">"}),(0,$.jsx)("span",{className:"p-8 font-weight-500 bg-white",style:{borderRadius:50},children:"Check out"})]}),(0,$.jsxs)(C.Z,{span:24,md:16,children:[(0,$.jsxs)("div",{className:"p-12 bg-white bor-rad-8 m-tb-16",children:[(0,$.jsx)("h2",{className:"m-b-5",children:"Shipment Details"}),(0,$.jsx)(k.Z,{isCheckout:!0,onChecked:function(e){return n.current=e}})]}),(0,$.jsxs)("div",{className:"p-12 p-b-25 bg-white bor-rad-8",children:[(0,$.jsx)("h2",{className:"m-b-8",children:"Order Notes"}),(0,$.jsx)(j.Z.TextArea,{placeholder:"Notes about your order",maxLength:200,showCount:!0,allowClear:!0,onChange:function(e){return t.current=e.target.value}})]}),(0,$.jsxs)("div",{className:"p-12 bg-white bor-rad-8 m-tb-16",children:[(0,$.jsx)("h2",{className:"m-b-8",children:"Payment method"}),(0,$.jsx)("p",{children:"Your payment information is secured to protect your information."}),(0,$.jsxs)(b.Z,{gutter:[16,16],children:[(0,$.jsx)(C.Z,{span:24,md:8,onClick:function(){return i.current=1},children:(0,$.jsxs)("div",{className:"p-tb-8 p-lr-16 bg-gray item-active h-100px",children:[(0,$.jsx)("b",{className:"font-size-16px",children:"COD"}),(0,$.jsxs)("p",{children:["Thanh to\xe1n khi nh\u1eadn h\xe0ng ",(0,$.jsx)(m,{className:"t-color-second"})]})]})}),(0,$.jsx)(C.Z,{span:24,md:8,onClick:function(){i.current=3},children:(0,$.jsxs)("div",{className:"p-tb-8 p-lr-16 bg-gray h-100px",children:[(0,$.jsx)("b",{className:"font-size-16px",children:"Card"}),(0,$.jsx)("p",{children:"Thanh to\xe1n v\u1edbi th\u1ebb ng\xe2n h\xe0ng"})]})}),(0,$.jsx)(C.Z,{span:24,md:8,onClick:function(){i.current=2},children:(0,$.jsxs)("div",{className:"p-tb-8 p-lr-16 bg-gray h-100px",children:[(0,$.jsx)("b",{className:"font-size-16px",children:"PayPal QR Code"}),(0,$.jsx)("p",{children:"Thanh to\xe1n h\u1ed9 v\u1edbi QRcode"})]})})]})]})]}),(0,$.jsxs)(C.Z,{span:24,md:8,children:[(0,$.jsxs)("div",{className:"p-12 bg-white bor-rad-8 m-tb-16",children:[(0,$.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,$.jsx)("h2",{children:"Order Information"}),(0,$.jsx)(w.Z,{type:"link",size:"large",children:(0,$.jsx)(P.rU,{to:E.Z.ROUTES.CART,children:"Edit"})})]}),(0,$.jsx)("div",{children:function(e){return e.map((function(e,t){return(0,$.jsx)(p.Z,{children:(0,$.jsx)(p.Z.Meta,{avatar:(0,$.jsx)(g.Z,{src:e.img,preview:!1,width:70}),title:M.Z.reduceProductName(e.name,40),description:(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)("span",{children:"Quantity: ".concat(e.amount)}),(0,$.jsx)("p",{className:"font-size-16px font-weight-700",children:M.Z.formatProductPrice(e.price)})]})})},t)}))}(d)})]}),(0,$.jsxs)("div",{className:"bg-white",children:[(0,$.jsx)(N.Z,{isLoading:I,carts:d,isCheckout:!0,transportFee:K,onCheckout:W,selectedVoucher:o}),(0,$.jsx)("div",{className:"t-center p-b-16",children:(0,$.jsx)("span",{style:{color:"#ff5000"},children:"(Please double check your order before making the purchase)"})})]})]})]})})]})}},89484:function(e,t,n){e.exports=n.p+"static/media/voucher.c21e56b26b7bac565569.png"}}]);
//# sourceMappingURL=157.0645857e.chunk.js.map