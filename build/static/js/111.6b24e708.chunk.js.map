{"version":3,"file":"static/js/111.6b24e708.chunk.js","mappings":"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","sources":["apis/voucherClient.js","components/Cart/Payment/index.js","components/Cart/Overview/CartItem.js","components/Cart/Overview/index.js","components/Cart/index.js","../node_modules/antd/es/popconfirm/index.js"],"sourcesContent":["import axiosClient from './axiosClient';\r\nconst VOUCHER_API_ENDPOINT = '/voucher';\r\n\r\nconst voucherApi = {\r\n  // Lấy danh sách voucher phù hợp với đơn hàng\r\n  getVoucher: async (cart) => {\r\n    let categories = [null]; // null tương ứng với voucher áp dụng cho tất cả loại sách\r\n    cart.forEach(item => {\r\n      //kiểm tra xem trong giỏ hàng có những loại sách nào\r\n      let bookCategory = categories.find(category => category === item.category);\r\n      if (!bookCategory) {\r\n        categories.push(item.category)\r\n      }\r\n    });\r\n    const url = 'admin/voucher/type'\r\n    return axiosClient.get(\r\n      url,\r\n      { params: categories }\r\n    )\r\n  }\r\n};\r\n\r\nexport default voucherApi;\r\n","import { Button, Col, Dropdown, Image, Input, Menu, message, Row, Space } from 'antd';\r\nimport constants from '../../../constants/index';\r\nimport helpers from '../../../helpers';\r\nimport PropTypes from 'prop-types';\r\nimport React, { useEffect, useMemo, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { DeleteOutlined, DownOutlined } from '@ant-design/icons';\r\nimport './index.scss'\r\nimport voucherIcon from '../../../assets/icon/voucher.png'\r\nimport voucherApi from '../../../apis/voucherClient';\r\n// let voucherList = [\"SG337\", 'SG998', 'SG554', 'SG235', 'SF456']\r\n\r\nfunction CartPayment(props) {\r\n  const { carts, isCheckout, transportFee, onCheckout, isLoading, selectedVoucher } = props;\r\n  const [voucher, setVoucher] = useState('')\r\n  const [voucherList, setVoucherList] = useState(null)\r\n  //Giảm giá voucher:\r\n  const voucherDiscountValue = useMemo(() => {\r\n    if (voucherList !== null && voucher.length === 5) {\r\n      return helpers.getDiscountVoucher(carts, voucher, voucherList, message, selectedVoucher);\r\n    } else {\r\n      return 0;\r\n    }\r\n  }, [voucher])\r\n  // giá tạm tính\r\n  const tempPrice = carts.reduce(\r\n    (a, b) => a + (b.price + (b.price * b.discount) / 100) * b.amount,\r\n    0,\r\n  );\r\n  // tổng khuyến mãi\r\n  const totalDiscount = carts.reduce(\r\n    (a, b) => a + ((b.price * b.discount) / 100) * b.amount,\r\n    0,\r\n  );\r\n  useEffect(() => {\r\n    const getVoucher = async () => {\r\n      if (voucherList === null) {\r\n        let result = await voucherApi.getVoucher(carts)\r\n        setVoucherList(result.data.rows);\r\n      }\r\n    }\r\n\r\n    getVoucher();\r\n    return () => {\r\n\r\n    }\r\n  }, [])\r\n\r\n  const menu = useMemo(() => (\r\n    <Menu\r\n      onClick={(e) => {\r\n        // console.log(e.item)\r\n        setVoucher(e.key)\r\n        // selectedVoucher.current()\r\n      }}\r\n      className='voucher-menu'\r\n    >\r\n      {voucherList?.map(item => {\r\n        return <Menu.Item key={item.code}>\r\n          <Row gutter={8} style={{ width: '150px' }}>\r\n            <Col span={12}>\r\n              <Image\r\n                preview={false}\r\n                src={voucherIcon}\r\n                width={'50px'}\r\n              />\r\n            </Col>\r\n            <Col span={12}>\r\n              <b>{item.code}</b>\r\n              <div><b style={{ color: 'red' }}>- {item.percentage[0]?.percent || item.amount[0]?.amount} {item.percentage[0] ? \" %\" : \" $\"}</b></div>\r\n            </Col>\r\n          </Row>\r\n        </Menu.Item>\r\n      })}\r\n    </Menu>\r\n  ), [voucherList])\r\n\r\n  // rendering ...\r\n  return (\r\n    <div className=\"Payment bg-white p-16\">\r\n      <h2 className=\"m-b-8\">Order total</h2>\r\n      <div className=\"d-flex justify-content-between m-b-6\">\r\n        <span className=\"font-size-16px\" style={{ color: '#aaa' }}>\r\n          Subtotal\r\n        </span>\r\n        <b>{helpers.formatProductPrice(tempPrice)}</b>\r\n      </div>\r\n      {/* <div className=\"d-flex justify-content-between m-b-6\">\r\n        <span className=\"font-size-16px\" style={{ color: '#aaa' }}>\r\n          Shipping\r\n        </span>\r\n        <b>{helpers.formatProductPrice(transportFee)}</b>\r\n      </div> */}\r\n      <div className=\"d-flex justify-content-between m-b-6\">\r\n        <span className=\"font-size-16px\" style={{ color: '#aaa' }}>\r\n          Discount\r\n        </span>\r\n        <b>{helpers.formatProductPrice(totalDiscount)}</b>\r\n      </div>\r\n      <div className=\"d-flex justify-content-between m-b-6\">\r\n        <span className=\"font-size-16px\" style={{ color: '#aaa' }}>\r\n          Voucher\r\n        </span>\r\n        <div className='flex-grow-1'>\r\n          <Dropdown overlay={menu} trigger={['click']} placement=\"bottomLeft\" selectable arrow>\r\n            <Input\r\n              value={voucher}\r\n              placeholder=\"\"\r\n              size='default'\r\n              className='w-100px m-l-10'\r\n              onChange={(e) => {\r\n                //Chỉ khi bấm nút \"x\" or nhập tay event này mới đc kích hoạt\r\n                setVoucher(e.target.value)\r\n              }}\r\n              allowClear\r\n            />\r\n            {/* <Button icon={<DeleteOutlined />} /> */}\r\n          </Dropdown>\r\n        </div>\r\n        <b style={{ color: 'red' }}>{voucherDiscountValue !== 0 && `- ${voucherDiscountValue} $`} </b>\r\n      </div>\r\n      <div className=\"d-flex justify-content-between\">\r\n        <span className=\"font-size-16px\" style={{ color: '#aaa' }}>\r\n          Total\r\n        </span>\r\n        <b style={{ color: 'red', fontSize: 20 }}>\r\n          {helpers.formatProductPrice(tempPrice - totalDiscount - voucherDiscountValue + transportFee)}\r\n        </b>\r\n      </div>\r\n      {/* <div className=\"t-end\">\r\n        <span\r\n          style={{ color: '#aaa', fontSize: 16 }}>{`(Đã bao gồm VAT)`}</span>\r\n      </div> */}\r\n\r\n      {isCheckout ? (\r\n        <Button\r\n          onClick={onCheckout}\r\n          className=\"m-t-16 d-block m-lr-auto w-100\"\r\n          type=\"primary\"\r\n          size=\"large\"\r\n          loading={isLoading}\r\n          style={{ backgroundColor: '#3555c5', color: '#fff' }}>\r\n          CHECK OUT\r\n        </Button>\r\n      ) : (\r\n        <Link to={constants.ROUTES.PAYMENT}>\r\n          <Button\r\n            className=\"m-t-16 d-block m-lr-auto w-100\"\r\n            type=\"primary\"\r\n            size=\"large\"\r\n            style={{ backgroundColor: '#3555c5', color: '#fff' }}>\r\n            Checkout\r\n          </Button>\r\n        </Link>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nCartPayment.defaultProps = {\r\n  carts: [],\r\n  isCheckout: false, // cờ kiểm tra có phải ở trang checkout để lập đơn hàng hay k\r\n  transportFee: 0,\r\n  isLoading: false,\r\n};\r\n\r\nCartPayment.propTypes = {\r\n  carts: PropTypes.array,\r\n  isCheckout: PropTypes.bool,\r\n  transportFee: PropTypes.number,\r\n  onCheckout: PropTypes.func,\r\n  isLoading: PropTypes.bool,\r\n};\r\n\r\nexport default CartPayment;\r\n","import { DeleteOutlined } from '@ant-design/icons';\nimport { Avatar, InputNumber, Tooltip } from 'antd';\nimport helpers from '../../../helpers';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction CartItem(props) {\n  const {\n    BookId,\n    title,\n    code,\n    author,\n    img,\n    instock,\n    discount,\n    price,\n    amount,\n    index,\n    onDelCartItem,\n    onUpdateNumOfProd,\n  } = props;\n  return (\n    <div className=\"d-flex bg-white p-12 bor-rad-4 justify-content-between\">\n      {/* sản phẩm */}\n      <div className=\"d-flex flex-grow-1\">\n        <Avatar src={img} alt=\"Photo\" shape=\"square\" size={64} />\n        <div className=\"d-flex flex-direction-column p-10 \">\n          <Link to={`/product/${BookId}`} className=\"font-size-16px\">\n            <Tooltip title={title}>\n              {/*will show on mouse enter */}\n              {helpers.reduceProductName(title, 40)}\n            </Tooltip>\n          </Link>\n            <span style={{ color: '#aaa' }}>Author: {helpers.reduceProductName(author, 20)}</span>\n        </div>\n      </div>\n      {/*  Thêm giảm sản phẩm */}\n      <div className=\"d-flex align-i-center\" style={{ flexBasis: 128 }}>\n        <DeleteOutlined\n          className=\"m-r-18 icon-del-item\"\n          onClick={() => onDelCartItem(index)}\n        />\n        {/* delete icon */}\n        <div>\n          <InputNumber\n            height={20}\n            min={1}\n            max={instock}\n            value={amount}\n            onChange={(value) => onUpdateNumOfProd(index, value)}\n            size=\"large\"\n            style={{ borderColor: '#3555C5' }}\n          />\n        </div>\n      </div>\n\n      {/* Giá */}\n      <div\n        className=\"d-flex flex-direction-column align-i-end justify-content-center\"\n        style={{ flexBasis: 200 }}>\n        <b className=\"font-size-18px\" style={{ color: '#3555C5' }}>\n          {helpers.formatProductPrice(price - (price * discount) / 100)}\n        </b>\n        {discount === 0 ? \"\" : (\n          <span style={{ textDecoration: 'line-through', color: '#aaa' }}>\n            {helpers.formatProductPrice(price)}\n          </span>\n        )}\n      </div>\n    </div>\n  );\n}\n\nCartItem.defaultProps = {\n  BookId: '',\n  image: '',\n  code: '',\n  discount: 0,\n  title: '',\n  price: 0,\n  instock: 0,\n  amount: 1,\n};\n\nCartItem.propTypes = {\n  onDelCartItem: PropTypes.func,\n  onUpdateNumOfProd: PropTypes.func,\n  index: PropTypes.any,\n  BookId: PropTypes.any,\n  image: PropTypes.string,\n  code: PropTypes.string,\n  discount: PropTypes.number,\n  amount: PropTypes.number,\n  title: PropTypes.string,\n  price: PropTypes.number,\n  instock: PropTypes.number,\n};\n\nexport default CartItem;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { useDispatch } from 'react-redux';\nimport CartItem from './CartItem';\nimport './index.scss';\nimport cartReducer from '../../../reducers/carts';\nimport { Button, Popconfirm } from 'antd';\n\nfunction CartOverview(props) {\n  const { carts } = props;\n  const dispatch = useDispatch();\n\n  // event: xoá 1 sản phẩm trong cart\n  const onDelCartItem = (key) => {\n    dispatch(cartReducer.delCartItem(key));\n  };\n\n  // event: cập nhật số lượng sản phẩm trong cart\n  const onUpdateNumOfProd = (key, value) => {\n    dispatch(cartReducer.updateCartItem(key, value));\n  };\n\n  const onDelAllCarts = () => {\n    dispatch(cartReducer.resetCart());\n  };\n\n  // rendering...\n  return (\n    <>\n      {carts.map((item, index) => (\n        <div key={index} className=\"\">\n          <CartItem\n            index={index}\n            {...item}\n            onDelCartItem={onDelCartItem}\n            onUpdateNumOfProd={onUpdateNumOfProd}\n          />\n        </div>\n      ))}\n      <div className=\"bg-white p-12 m-b-12 p-t-0 t-right\">\n        <Popconfirm\n          title=\"Do you want to remove all products from your cart ?\"\n          placement=\"left\"\n          okButtonProps={{ type: 'danger' }}\n          onConfirm={onDelAllCarts}\n          okText=\"Confirm\"\n          cancelText=\"Cancell\">\n          <Button type=\"primary\" danger size=\"large\">\n            Remove All\n          </Button>\n        </Popconfirm>\n      </div>\n\n    </>\n  );\n}\n\nCartOverview.defaultProps = {\n  carts: [],\n};\n\nCartOverview.propTypes = {\n  carts: PropTypes.array,\n};\n\nexport default CartOverview;\n","import { HomeOutlined } from '@ant-design/icons';\r\nimport { Button, Col, Popconfirm, Row, Input } from 'antd';\r\nimport React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport cartReducer from '../../reducers/carts';\r\nimport './index.scss';\r\nimport CartOverview from './Overview';\r\nimport CartPayment from './Payment';\r\n\r\nfunction Cart() {\r\n  const carts = useSelector((state) => state.carts);\r\n  const dispatch = useDispatch();\r\n\r\n  // event: Xoá tất cả sản phẩm trong cart\r\n  const onDelAllCarts = () => {\r\n    dispatch(cartReducer.resetCart());\r\n  };\r\n\r\n  // rendering ...\r\n  return (\r\n    <div\r\n      className=\"Cart-Detail-View container m-t-20\"\r\n      style={{ minHeight: '80vh' }}>\r\n      <Row gutter={[16, 16]}>\r\n        {/* gutter={[16,16]} => grid spacing horizontal and vertical */}\r\n        {/* Hiển thị đường dẫn trang */}\r\n        <Col span={24} className=\"d-flex page-position\">\r\n          <Link to=\"/\">\r\n            <HomeOutlined className=\"p-12 icon-home font-size-16px bg-white\" />\r\n          </Link>\r\n          <span className=\"r-arrow p-lr-8 font-weight-500\">{`>`}</span>\r\n          <span className=\"cart-name p-8 font-weight-500 bg-white\">\r\n            Cart\r\n          </span>\r\n        </Col>\r\n\r\n        {carts.length > 0 ? (\r\n          <>\r\n            {/* Tổng sản phẩm */}\r\n            <Col span={24} className=\"d-flex justify-content-between\">\r\n              {/* <h2>\r\n                Cart\r\n                <b>{` ${carts.reduce(\r\n                  (a, b) => a + parseInt(b.amount),\r\n                  0,\r\n                )} `}</b>\r\n                Products\r\n              </h2> */}\r\n              {/* <Popconfirm\r\n                title=\"Do you want to remove all products from your cart ?\"\r\n                placement=\"left\"\r\n                okButtonProps={{ type: 'danger' }}\r\n                onConfirm={onDelAllCarts}\r\n                okText=\"Confirm\"\r\n                cancelText=\"Cancell\">\r\n                <Button type=\"primary\" danger size=\"large\">\r\n                  Remove All\r\n                </Button>\r\n              </Popconfirm> */}\r\n            </Col>\r\n\r\n            {/* Chi tiết giỏ hàng */}\r\n            <Col span={24} md={16}>\r\n              <CartOverview carts={carts} />\r\n            \r\n              <Row justify=\"end\" gutter={10}>\r\n                <Col span={8} className=\"t-right\">\r\n                  <h2>Voucher</h2>\r\n                </Col>\r\n                <Col span={3}>\r\n                  <Input placeholder=\"\" size='large' width={'100%'} />\r\n                </Col>\r\n                <Col span={3} className=\"text-center\">\r\n                  <Button type=\"primary\" size=\"large\" className='w-100'>\r\n                    Apply\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n\r\n            </Col>\r\n\r\n            {/* Thanh toán */}\r\n            <Col span={24} md={8}>\r\n              <CartPayment carts={carts} />\r\n            </Col>\r\n          </>\r\n        ) : (\r\n          <Col span={24} className=\"t-center\" style={{ minHeight: '90vh' }}>\r\n            <h2 className=\"m-tb-16\" style={{ color: '#888' }}>\r\n              Your cart is currently empty\r\n            </h2>\r\n            <Link to=\"/\">\r\n              <Button type=\"primary\" size=\"large\">\r\n                Shopping now\r\n              </Button>\r\n            </Link>\r\n          </Col>\r\n        )}\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Cart;\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this;\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport ExclamationCircleFilled from \"@ant-design/icons/es/icons/ExclamationCircleFilled\";\nimport classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport * as React from 'react';\nimport Button from '../button';\nimport { convertLegacyProps } from '../button/button';\nimport { ConfigContext } from '../config-provider';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from '../locale/default';\nimport Popover from '../popover';\nimport ActionButton from '../_util/ActionButton';\nimport { getRenderPropValue } from '../_util/getRenderPropValue';\nimport { cloneElement } from '../_util/reactNode';\nvar Popconfirm = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls;\n\n  var _useMergedState = useMergedState(false, {\n    value: props.visible,\n    defaultValue: props.defaultVisible\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      visible = _useMergedState2[0],\n      setVisible = _useMergedState2[1]; // const isDestroyed = useDestroyed();\n\n\n  var settingVisible = function settingVisible(value, e) {\n    var _a;\n\n    setVisible(value, true);\n    (_a = props.onVisibleChange) === null || _a === void 0 ? void 0 : _a.call(props, value, e);\n  };\n\n  var close = function close(e) {\n    settingVisible(false, e);\n  };\n\n  var onConfirm = function onConfirm(e) {\n    var _a;\n\n    return (_a = props.onConfirm) === null || _a === void 0 ? void 0 : _a.call(_this, e);\n  };\n\n  var onCancel = function onCancel(e) {\n    var _a;\n\n    settingVisible(false, e);\n    (_a = props.onCancel) === null || _a === void 0 ? void 0 : _a.call(_this, e);\n  };\n\n  var _onKeyDown = function onKeyDown(e) {\n    if (e.keyCode === KeyCode.ESC && visible) {\n      settingVisible(false, e);\n    }\n  };\n\n  var onVisibleChange = function onVisibleChange(value) {\n    var disabled = props.disabled;\n\n    if (disabled) {\n      return;\n    }\n\n    settingVisible(value);\n  };\n\n  var renderOverlay = function renderOverlay(prefixCls, popconfirmLocale) {\n    var okButtonProps = props.okButtonProps,\n        cancelButtonProps = props.cancelButtonProps,\n        title = props.title,\n        cancelText = props.cancelText,\n        okText = props.okText,\n        okType = props.okType,\n        icon = props.icon,\n        _props$showCancel = props.showCancel,\n        showCancel = _props$showCancel === void 0 ? true : _props$showCancel;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-inner-content\")\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-message\")\n    }, icon, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-message-title\")\n    }, getRenderPropValue(title))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-buttons\")\n    }, showCancel && /*#__PURE__*/React.createElement(Button, _extends({\n      onClick: onCancel,\n      size: \"small\"\n    }, cancelButtonProps), cancelText || popconfirmLocale.cancelText), /*#__PURE__*/React.createElement(ActionButton, {\n      buttonProps: _extends(_extends({\n        size: 'small'\n      }, convertLegacyProps(okType)), okButtonProps),\n      actionFn: onConfirm,\n      close: close,\n      prefixCls: getPrefixCls('btn'),\n      quitOnNullishReturnValue: true,\n      emitEvent: true\n    }, okText || popconfirmLocale.okText)));\n  };\n\n  var customizePrefixCls = props.prefixCls,\n      placement = props.placement,\n      children = props.children,\n      overlayClassName = props.overlayClassName,\n      restProps = __rest(props, [\"prefixCls\", \"placement\", \"children\", \"overlayClassName\"]);\n\n  var prefixCls = getPrefixCls('popover', customizePrefixCls);\n  var prefixClsConfirm = getPrefixCls('popconfirm', customizePrefixCls);\n  var overlayClassNames = classNames(prefixClsConfirm, overlayClassName);\n  var overlay = /*#__PURE__*/React.createElement(LocaleReceiver, {\n    componentName: \"Popconfirm\",\n    defaultLocale: defaultLocale.Popconfirm\n  }, function (popconfirmLocale) {\n    return renderOverlay(prefixCls, popconfirmLocale);\n  });\n  return /*#__PURE__*/React.createElement(Popover, _extends({}, restProps, {\n    prefixCls: prefixCls,\n    placement: placement,\n    onVisibleChange: onVisibleChange,\n    visible: visible,\n    _overlay: overlay,\n    overlayClassName: overlayClassNames,\n    ref: ref\n  }), cloneElement(children, {\n    onKeyDown: function onKeyDown(e) {\n      var _a, _b;\n\n      if ( /*#__PURE__*/React.isValidElement(children)) {\n        (_b = children === null || children === void 0 ? void 0 : (_a = children.props).onKeyDown) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n      }\n\n      _onKeyDown(e);\n    }\n  }));\n});\nPopconfirm.defaultProps = {\n  placement: 'top',\n  trigger: 'click',\n  okType: 'primary',\n  icon: /*#__PURE__*/React.createElement(ExclamationCircleFilled, null),\n  disabled: false\n};\nexport default Popconfirm;"],"names":["voucherApi","getVoucher","cart","categories","forEach","item","find","category","push","axiosClient","params","CartPayment","props","carts","isCheckout","transportFee","onCheckout","isLoading","selectedVoucher","useState","voucher","setVoucher","voucherList","setVoucherList","voucherDiscountValue","useMemo","length","helpers","message","tempPrice","reduce","a","b","price","discount","amount","totalDiscount","useEffect","result","data","rows","menu","onClick","e","key","className","map","gutter","style","width","span","preview","src","voucherIcon","code","color","percentage","percent","overlay","trigger","placement","selectable","arrow","value","placeholder","size","onChange","target","allowClear","fontSize","type","loading","backgroundColor","to","constants","defaultProps","CartItem","BookId","title","author","img","instock","index","onDelCartItem","onUpdateNumOfProd","alt","shape","flexBasis","DeleteOutlined","height","min","max","borderColor","textDecoration","image","CartOverview","dispatch","useDispatch","cartReducer","okButtonProps","onConfirm","okText","cancelText","danger","useSelector","state","minHeight","HomeOutlined","md","justify","_this","__rest","s","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","propertyIsEnumerable","Popconfirm","React","ref","getPrefixCls","ConfigContext","_useMergedState","useMergedState","visible","defaultValue","defaultVisible","_useMergedState2","_slicedToArray","setVisible","settingVisible","_a","onVisibleChange","close","onCancel","customizePrefixCls","prefixCls","children","overlayClassName","restProps","prefixClsConfirm","overlayClassNames","classNames","LocaleReceiver","componentName","defaultLocale","popconfirmLocale","cancelButtonProps","okType","icon","_props$showCancel","showCancel","concat","getRenderPropValue","Button","_extends","ActionButton","buttonProps","convertLegacyProps","actionFn","quitOnNullishReturnValue","emitEvent","renderOverlay","Popover","disabled","_overlay","cloneElement","onKeyDown","_b","keyCode","KeyCode","_onKeyDown","ExclamationCircleFilled"],"sourceRoot":""}