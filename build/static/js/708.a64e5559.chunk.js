"use strict";(self.webpackChunklaptop_store=self.webpackChunklaptop_store||[]).push([[708],{72048:function(e,t,n){n.d(t,{Z:function(){return T}});var r=n(33032),a=n(23430),c=n(84322),o=n.n(c),s=n(83963),i=n(85623),l=n(72791),d=n(81694),u=n.n(d),p=n(77106),h=n(71929),m=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},f=function(e){var t,n,r=e.prefixCls,a=e.className,c=e.color,o=void 0===c?"blue":c,d=e.dot,p=e.pending,f=void 0!==p&&p,x=(e.position,e.label),v=e.children,y=m(e,["prefixCls","className","color","dot","pending","position","label","children"]),g=(0,l.useContext(h.E_).getPrefixCls)("timeline",r),j=u()((t={},(0,i.Z)(t,"".concat(g,"-item"),!0),(0,i.Z)(t,"".concat(g,"-item-pending"),f),t),a),Z=u()((n={},(0,i.Z)(n,"".concat(g,"-item-head"),!0),(0,i.Z)(n,"".concat(g,"-item-head-custom"),!!d),(0,i.Z)(n,"".concat(g,"-item-head-").concat(o),!0),n)),b=/blue|red|green|gray/.test(o||"")?void 0:o;return l.createElement("li",(0,s.Z)({},y,{className:j}),x&&l.createElement("div",{className:"".concat(g,"-item-label")},x),l.createElement("div",{className:"".concat(g,"-item-tail")}),l.createElement("div",{className:Z,style:{borderColor:b,color:b}},d),l.createElement("div",{className:"".concat(g,"-item-content")},v))},x=n(61113),v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},y=function(e){var t,n=l.useContext(h.E_),r=n.getPrefixCls,a=n.direction,c=e.prefixCls,o=e.pending,d=void 0===o?null:o,m=e.pendingDot,y=e.children,g=e.className,j=e.reverse,Z=void 0!==j&&j,b=e.mode,N=void 0===b?"":b,w=v(e,["prefixCls","pending","pendingDot","children","className","reverse","mode"]),C=r("timeline",c),S="boolean"===typeof d?null:d,k=d?l.createElement(f,{pending:!!d,dot:m||l.createElement(p.Z,null)},S):null,O=l.Children.toArray(y);O.push(k),Z&&O.reverse();var P=function(e,t){return"alternate"===N?"right"===e.props.position?"".concat(C,"-item-right"):"left"===e.props.position?"".concat(C,"-item-left"):"".concat(C,t%2===0?"-item-left":"-item-right"):"left"===N?"".concat(C,"-item-left"):"right"===N||"right"===e.props.position?"".concat(C,"-item-right"):""},I=O.filter((function(e){return!!e})),M=l.Children.count(I),D="".concat(C,"-item-last"),z=l.Children.map(I,(function(e,t){var n=t===M-2?D:"",r=t===M-1?D:"";return(0,x.Tm)(e,{className:u()([e.props.className,!Z&&d?n:r,P(e,t)])})})),H=O.some((function(e){var t;return!!(null===(t=null===e||void 0===e?void 0:e.props)||void 0===t?void 0:t.label)})),E=u()(C,(t={},(0,i.Z)(t,"".concat(C,"-pending"),!!d),(0,i.Z)(t,"".concat(C,"-reverse"),!!Z),(0,i.Z)(t,"".concat(C,"-").concat(N),!!N&&!H),(0,i.Z)(t,"".concat(C,"-label"),H),(0,i.Z)(t,"".concat(C,"-rtl"),"rtl"===a),t),g);return l.createElement("ul",(0,s.Z)({},w,{className:E}),z)};y.Item=f;var g=y,j=n(43751),Z=n(82862),b=n(37083),N=n(66106),w=n(30914),C=n(71871),S=n(40707),k=n(58300),O=n(82426),P=n(88428),I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M380 704h264c4.4 0 8-3.6 8-8v-84c0-4.4-3.6-8-8-8h-40c-4.4 0-8 3.6-8 8v36H428v-36c0-4.4-3.6-8-8-8h-40c-4.4 0-8 3.6-8 8v84c0 4.4 3.6 8 8 8zm340-123a40 40 0 1080 0 40 40 0 10-80 0zm239-167.6L935.3 372a8 8 0 00-10.9-2.9l-50.7 29.6-78.3-216.2a63.9 63.9 0 00-60.9-44.4H301.2c-34.7 0-65.5 22.4-76.2 55.5l-74.6 205.2-50.8-29.6a8 8 0 00-10.9 2.9L65 413.4c-2.2 3.8-.9 8.6 2.9 10.8l60.4 35.2-14.5 40c-1.2 3.2-1.8 6.6-1.8 10v348.2c0 15.7 11.8 28.4 26.3 28.4h67.6c12.3 0 23-9.3 25.6-22.3l7.7-37.7h545.6l7.7 37.7c2.7 13 13.3 22.3 25.6 22.3h67.6c14.5 0 26.3-12.7 26.3-28.4V509.4c0-3.4-.6-6.8-1.8-10l-14.5-40 60.3-35.2a8 8 0 003-10.8zM840 517v237H184V517l15.6-43h624.8l15.6 43zM292.7 218.1l.5-1.3.4-1.3c1.1-3.3 4.1-5.5 7.6-5.5h427.6l75.4 208H220l72.7-199.9zM224 581a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"car",theme:"outlined"},M=n(62653),D=function(e,t){return l.createElement(M.Z,(0,P.Z)((0,P.Z)({},e),{},{ref:t,icon:I}))};D.displayName="CarOutlined";var z=l.forwardRef(D),H={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-40 824H232V687h97.9c11.6 32.8 32 62.3 59.1 84.7 34.5 28.5 78.2 44.3 123 44.3s88.5-15.7 123-44.3c27.1-22.4 47.5-51.9 59.1-84.7H792v-63H643.6l-5.2 24.7C626.4 708.5 573.2 752 512 752s-114.4-43.5-126.5-103.3l-5.2-24.7H232V136h560v752zM320 341h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 160h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}}]},name:"container",theme:"outlined"},E=function(e,t){return l.createElement(M.Z,(0,P.Z)((0,P.Z)({},e),{},{ref:t,icon:H}))};E.displayName="ContainerOutlined";var A=l.forwardRef(E),F=n(80184);var T=function(e){var t=e.orderId,n=e.onClose,c=(0,l.useState)(!0),s=(0,a.Z)(c,2),i=s[0],d=s[1],u=(0,l.useState)(!0),p=(0,a.Z)(u,2),h=p[0],m=p[1],f=(0,l.useState)(null),x=(0,a.Z)(f,2),v=x[0],y=x[1];(0,l.useEffect)((function(){var e=!0;function n(){return(n=(0,r.Z)(o().mark((function n(){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,S.Z.getOrderDetails(t);case 3:r=n.sent,e&&r&&(y(r.data),m(!1)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),e&&(m(!1),y(null));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}return function(){n.apply(this,arguments)}(),function(){e=!1}}),[t]);var P=[{title:"Product",dataIndex:"product",key:"product",render:function(e,t){return(0,F.jsx)(O.rU,{to:"/product/".concat(e.bookId),children:(0,F.jsx)(j.Z,{title:e.title,children:k.Z.reduceProductName(e.title,40)})})}},{title:"Price",dataIndex:"product",key:"price",render:function(e,t){return k.Z.formatProductPrice(e.price)}},{title:"Quantity",dataIndex:"quantity",key:"quantity"},{title:"Discount",dataIndex:"discount",key:"prod",render:function(e,t){return"10 fix l\u1ea1i %"}},{title:"Total",dataIndex:"product",key:"totalMoney",render:function(e,t){var n=e.price;return k.Z.formatProductPrice(n*t.quantity)}}];return(0,F.jsx)(Z.Z,{width:1e3,centered:!0,visible:i,onCancel:function(){d(!1),n()},maskClosable:!1,footer:null,title:(0,F.jsxs)("p",{className:"font-size-18px m-b-0",children:["Order Details",v&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("span",{style:{color:"#4670FF"},children:" #".concat(v.id)}),(0,F.jsx)("b",{children:" - ".concat(v.status[0].toUpperCase()+v.status.slice(1))})]})]}),children:(0,F.jsx)(F.Fragment,{children:h||!v?(0,F.jsx)("div",{className:"pos-relative",style:{minHeight:180},children:(0,F.jsx)(b.Z,{className:"trans-center",tip:"Loading...Please wait",size:"large"})}):(0,F.jsxs)(N.Z,{gutter:[16,16],children:[(0,F.jsx)(w.Z,{span:24,className:"t-right",children:(0,F.jsx)("b",{className:"font-size-14px",children:"Order Date  ".concat(k.Z.formatOrderDate(v.createdAt,1))})}),(0,F.jsx)(w.Z,{span:24,sm:12,children:v&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("h3",{className:"t-center m-b-12",children:"Delivery Address"}),(0,F.jsxs)("div",{className:"p-tb-12 p-lr-16 bg-gray bor-rad-8",style:{minHeight:150},children:[(0,F.jsx)("h3",{className:"m-b-8",children:(0,F.jsx)("b",{children:v.ShippingAddress.reciver.toUpperCase()})}),(0,F.jsx)("p",{className:"m-b-8",children:"Address: ".concat(v.ShippingAddress.details,", ").concat(v.ShippingAddress.ward.prefix," ").concat(v.ShippingAddress.ward.name,", ").concat(v.ShippingAddress.ward.district.prefix," ").concat(v.ShippingAddress.ward.district.name,", ").concat(v.ShippingAddress.ward.district.province.name,".")}),(0,F.jsxs)("p",{className:"m-b-8",children:["Phone no: ",v.ShippingAddress.phone]})]})]})}),(0,F.jsx)(w.Z,{span:24,sm:12,children:v&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("h3",{className:"t-center m-b-12",children:"Payment Method"}),(0,F.jsx)("div",{className:"p-tb-12 p-lr-16 bg-gray bor-rad-8 d-flex justify-content-center align-i-center",style:{minHeight:150},children:(0,F.jsx)("b",{className:"m-b-8 font-size-20px",children:k.Z.convertPaymentMethod(v.payment)})})]})}),v&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(w.Z,{span:24,children:(0,F.jsx)(C.Z,{pagination:!1,columns:P,dataSource:v.order_detail,rowKey:"id"})}),(0,F.jsxs)(w.Z,{span:24,className:"t-right",children:[(0,F.jsxs)("div",{className:"d-flex font-weight-500 justify-content-end",children:[(0,F.jsx)("p",{style:{color:"#bbb"},children:"Merchandise Subtotal"}),(0,F.jsx)("span",{className:"m-l-32",style:{color:"#888",minWidth:180},children:k.Z.formatProductPrice(k.Z.calTotalOrderFee(v.order_detail))})]}),(0,F.jsxs)("div",{className:"d-flex font-weight-500 justify-content-end",children:[(0,F.jsx)("p",{style:{color:"#bbb"},children:"Shipping"}),(0,F.jsx)("span",{className:"m-l-32",style:{color:"#888",minWidth:180},children:k.Z.formatProductPrice(v.transportFee)})]}),(0,F.jsxs)("div",{className:"d-flex font-weight-500 justify-content-end",children:[(0,F.jsx)("p",{style:{color:"#bbb"},children:"Voucher"}),(0,F.jsx)("span",{className:"m-l-32",style:{color:"#888",minWidth:180},children:"100"})]}),(0,F.jsxs)("div",{className:"d-flex font-weight-500 justify-content-end",children:[(0,F.jsx)("p",{style:{color:"#bbb"},children:"Total"}),(0,F.jsxs)("span",{className:"m-l-32 font-size-18px",style:{color:"#ff2000",minWidth:180},children:[v.total," $"]})]})]}),(0,F.jsx)(w.Z,{span:12,children:(0,F.jsxs)(g,{mode:"left",children:[(0,F.jsx)(g.Item,{label:"2015-09-01",dot:(0,F.jsx)(z,{style:{fontSize:"16px"}}),color:"red",children:"Create a services"}),(0,F.jsx)(g.Item,{label:"2015-09-01 09:12:11",children:"Solve initial network problems"}),(0,F.jsx)(g.Item,{children:"Technical testing"}),(0,F.jsx)(g.Item,{label:"2015-09-01 09:12:11",dot:(0,F.jsx)(A,{style:{fontSize:"16px"}}),color:"green",children:"Network problems being solved"})]})})]})]})})})}},8708:function(e,t,n){n.r(t);var r=n(35531),a=n(18489),c=n(33032),o=n(23430),s=n(84322),i=n.n(s),l=n(23695),d=n(82862),u=n(73231),p=n(87309),h=n(71871),m=n(26826),f=n(58300),x=n(72791),v=n(72048),y=n(1780),g=n(80184),j=!1;function Z(){for(var e=[],t=0;t<7;++t)e.push({value:t,text:f.Z.convertOrderStatus(t)});return e}t.default=function(){var e=(0,x.useState)([]),t=(0,o.Z)(e,2),n=t[0],s=t[1],b=(0,x.useState)(!0),N=(0,o.Z)(b,2),w=N[0],C=N[1],S=(0,x.useState)({isOpen:!1,orderId:""}),k=(0,o.Z)(S,2),O=k[0],P=k[1],I=(0,x.useState)(1),M=(0,o.Z)(I,2),D=M[0],z=M[1],H=(0,x.useState)(null),E=(0,o.Z)(H,2),A=E[0],F=E[1],T=(0,x.useState)(""),_=(0,o.Z)(T,2),V=_[0],L=_[1],U=(0,x.useState)(0),W=(0,o.Z)(U,2),q=W[0],B=W[1],K=function(){var e=(0,c.Z)(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.Z.postUpdateOrderStatus(t,r);case 3:e.sent&&(l.ZP.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng"),s(n.map((function(e){return e.id===t?(0,a.Z)((0,a.Z)({},e),{},{orderStatus:r}):(0,a.Z)({},e)})))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l.ZP.error("C\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),R=[{title:"M\xe3 \u0111\u01a1n h\xe0ng",key:"orderCode",dataIndex:"orderCode",render:function(e){return(0,g.jsx)("a",{children:e})}},{title:"M\xe3 KH",key:"owner",dataIndex:"owner"},{title:"T\xean",key:"name",dataIndex:"name"},{title:"Ng\xe0y \u0111\u1eb7t",key:"orderDate",dataIndex:"orderDate",sorter:function(e,t){return e.orderDate>t.orderDate?1:e.orderDate<t.orderDate?-1:0}},{title:"T\u1ed5ng ti\u1ec1n",key:"totalMoney",dataIndex:"totalMoney",render:function(e){return(0,g.jsx)("b",{style:{color:"#333"},children:f.Z.formatProductPrice(e)})},sorter:function(e,t){return e.totalMoney-t.totalMoney}},{title:"HT thanh to\xe1n",key:"paymentMethod",dataIndex:"paymentMethod",render:function(e){return f.Z.convertPaymentMethod(e)}},{title:"Tr\u1ea1ng th\xe1i \u0111\u01a1n h\xe0ng",key:"orderStatus",dataIndex:"orderStatus",filters:Z(),onFilter:function(e,t){return t.orderStatus===e},render:function(e){return e}},{title:"H\xe0nh \u0111\u1ed9ng",render:function(e,t){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{children:(0,g.jsx)(p.Z,{type:"primary",className:" w-86px",onClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=e,r=d.Z.info({width:768,title:"C\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i \u0111\u01a1n h\xe0ng #".concat(t),content:(0,g.jsx)(u.ZP.Group,{defaultValue:e,onChange:function(e){return n=e.target.value},className:"m-t-12",children:Z().map((function(e,t){return(0,g.jsx)(u.ZP,{className:"m-b-8",value:e.text,children:e.text},t)}))}),centered:!0,icon:null,okText:"C\u1eadp nh\u1eadt",onOk:function(){K(t,n),r.destroy()}})}(t.orderStatus,t.orderCode)},children:"C\u1eadp nh\u1eadt"})}),(0,g.jsx)("div",{className:"m-t-10",children:(0,g.jsx)(p.Z,{className:" w-86px",type:"danger",onClick:function(){return P({isOpen:!0,orderId:t.orderCode})},children:"Chi ti\u1ebft"})})]})}}],G=(0,x.useCallback)(function(){var e=(0,c.Z)(i().mark((function e(t,n,r,a){var c,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.Z.getOrderListBy(t,n,r);case 3:c=e.sent,o=c.data.rows.map((function(e,t){return{key:t,owner:e.user_id,orderCode:e.id,orderDate:f.Z.formatOrderDate(e.createdAt),totalMoney:e.total,paymentMethod:e.payment,orderStatus:e.status,name:e.user.name}})),s(o),B(c.data.count),F(n),L(r),C(!1),j&&z(t),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),l.ZP.error("C\xf3 l\u1ed7i x\u1ea3y ra");case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),[]);return(0,x.useEffect)((function(){var e=!0;function t(){return(t=(0,c.Z)(i().mark((function t(){var n,a,c;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,C(!0),t.next=4,G(D,A,V,!1);case 4:n=t.sent,e&&n&&(a=n.data.rows,c=a.map((function(e,t){return{key:t,owner:e.user_id,orderCode:e.id,orderDate:f.Z.formatOrderDate(e.createdAt),totalMoney:e.total,paymentMethod:e.payment,orderStatus:e.status,name:e.user.name}})),s((0,r.Z)(c)),C(!1)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e&&C(!1);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){e=!1,j=!1}}),[D]),(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("div",{className:"m-lr-10 m-t-10",children:[(0,g.jsx)(y.Z,{options:[{text:"T\u1ea5t C\u1ea3",id:0},{text:"T\xean kh\xe1ch h\xe0ng",id:1},{text:"M\xe3 \u0111\u01a1n h\xe0ng",id:2}],onSearch:G}),(0,g.jsx)(h.Z,{columns:R,dataSource:n,pagination:{showLessItems:!0,position:["bottomCenter"],total:q,onChange:function(e){j=!1,z(e)}},loading:w}),O.isOpen&&(0,g.jsx)(v.Z,{orderId:O.orderId,onClose:function(){return P({isOpen:!1})}})]})})}}}]);
//# sourceMappingURL=708.a64e5559.chunk.js.map